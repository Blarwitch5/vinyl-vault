---
import AudioPreview from '../ui/AudioPreview.astro'

export interface Track {
  position: string
  title: string
  duration: string
  audioUrl?: string
}

export interface Side {
  name: string
  tracks: Track[]
}

export interface Props {
  sides: Side[]
  artistName: string
}

const { sides, artistName } = Astro.props
---

<section class="rounded-lg bg-neutral-50 p-6 shadow-sm dark:bg-neutral-800">
  <h2 class="mb-4 text-lg font-semibold text-neutral-900 dark:text-neutral-100">Tracklist</h2>
  <div class="space-y-4">
    {
      sides.map((side) => (
        <div>
          <h3 class="mb-2 text-sm font-medium text-neutral-700 dark:text-neutral-300">
            {side.name}
          </h3>
          <div class="space-y-3">
            {side.tracks.map((track) => (
              <div class="flex items-center justify-between rounded-lg bg-neutral-100 p-4 transition-colors hover:bg-neutral-200 dark:bg-neutral-700 dark:hover:bg-neutral-600">
                <div class="flex items-center space-x-4">
                  <span class="text-sm font-medium text-neutral-500 dark:text-neutral-400">
                    {track.position}
                  </span>
                  <span class="text-sm font-medium text-neutral-900 dark:text-neutral-100">
                    {track.title}
                  </span>
                </div>
                <div class="flex items-center space-x-3">
                  <span class="text-sm text-neutral-600 dark:text-neutral-400">
                    {track.duration}
                  </span>
                  <AudioPreview
                    audioUrl={track.audioUrl || ''}
                    trackTitle={track.title}
                    artistName={artistName}
                  />
                </div>
              </div>
            ))}
          </div>
        </div>
      ))
    }
  </div>
</section>
